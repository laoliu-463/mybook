---
title: 分组交换机制
type: concept
domain: [计算机网络]
tags: [分组交换, 电路交换, 数据包, 路由]
source: notebooklm
created: 2026-02-08
status: draft
notebooklm: https://notebooklm.google.com/notebook/7718030c-b3ce-4c8e-8027-f73083b975cf
---

## TL;DR

- **分组交换**：数据切分成小包独立传输，到达后重组
- **电路交换**：独占专用线路，资源浪费
- 分组交换是互联网高效、抗毁的核心机制

---

## 背景与问题定义

互联网能容纳几十亿人同时上网，靠的不是无限的带宽，而是**高效的传输机制**。

核心问题：如何让有限的网络资源服务尽可能多的用户？

---

## 两种交换方式对比

### 电路交换 (Circuit Switching) —— "包专车"

> [!warning] 资源浪费
> 像老式电话：通话期间独占一条专用线路，即使沉默不说话，线路也被占用。

**类比**：租一辆卡车只拉你一本书，车厢空着别人也不能用。

**特点**：
- 建立连接 → 独占通道 → 释放连接
- 延迟稳定，但资源利用率低
- 适用场景：传统电话网络（PSTN）

### 分组交换 (Packet Switching) —— "拼单快递"

**工作流程**：

```
1. 切分 → 大文件拆成小数据包（Packet）
2. 打包 → 每个包加上序号 + 目标地址（IP）
3. 独立路由 → 各包可走不同路径
4. 重组 → 接收端按序号还原
```

**类比**：把百科全书撕成单页，每页装信封写序号，扔进邮局各自送达，收件人按序号拼回原书。

---

## 分组交换的优势

| 优势 | 说明 |
|------|------|
| **高效利用资源** | 一条网线同时跑多用户的数据包，充分利用带宽 |
| **鲁棒性强** | 某条线路断了，路由器自动让后续包绕路 |
| **灵活扩展** | 新设备接入无需预留专用通道 |

> [!tip] 核心洞察
> 正是因为有了光纤这样的高速公路，配合分组交换这种高效的物流调度模式，你才能在手机上流畅地刷视频，而不用担心邻居打电话导致你断网。

---

## 关键组件

| 组件 | 职责 |
|------|------|
| **路由器 (Router)** | 根据当前网络状况为每个包选择最优路径 |
| **TCP 协议** | 负责在接收端按序号重组数据包 |
| **IP 地址** | 数据包的"收件地址" |

---

## 面试追问

**Q: 分组交换会不会导致数据包乱序？**

> 会。不同包可能走不同路径，到达顺序可能与发送顺序不同。TCP 协议通过序号（Sequence Number）在接收端重新排序。

**Q: 分组交换的缺点是什么？**

> 1. 延迟不稳定（每个包路径可能不同）
> 2. 需要额外开销（每个包都带地址头）
> 3. 可能丢包（需要重传机制）

---

## 知识网络

- [[03-传输媒介]] — 物理媒介决定网速上限
- [[01-TCP-IP协议栈]] — 分层模型总览
- [[../TCP协议/00-overview|TCP协议总览]] — 可靠传输机制

---

## References

- NotebookLM 笔记：网络传输的物理媒介与分组交换机制
