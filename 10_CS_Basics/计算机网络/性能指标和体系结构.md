# 计算机网络性能指标：给网络“体检” (0基础版)

> **核心心法**：当我们在吐槽“网速慢”或者“卡顿”时，其实是在描述网络的性能。
>
> 就像评价一辆车，不能只看“最高时速”，还要看“加速能力”、“是否省油”。评价网络好坏，主要看这 7 大指标。

---

## 1. 速率 (Speed/Data Rate) —— “水流的速度”

**定义**：数据传输的速率，单位是 **bit/s** (bps)。

*   **核心单位**：
    *   `1 kb/s = 1000 b/s`
    *   `1 Mb/s = 10^6 b/s` (注意：这里是 10 进制，不是 1024)
*   **避坑指南：比特 (b) vs 字节 (B)**
    *   运营商说的“百兆宽带”是 **100 Mb/s** (小 b)。
    *   你下载软件看到的速度是 **MB/s** (大 B)。
    *   **换算公式**：`1 Byte = 8 bits`。
    *   *结论：100M 宽带的理论最高下载速度是 100 ÷ 8 = 12.5 MB/s。*

---

## 2. 带宽 (Bandwidth) —— “管道的粗细”

**定义**：网络设备所支持的**最高**数据传输速率。

*   **比喻**：
    *   **带宽** = **高速公路的车道数**（车道越多，理论上能并排跑的车越多）。
    *   **速率** = **车速**。
*   **意义**：带宽决定了网络的“上限”。你家办了 1000M 宽带，就是把入户的水管换粗了。

---

## 3. 吞吐量 (Throughput) —— “实际的车流量”

**定义**：单位时间内，**实际**通过网络的数据量。

*   **关系**：`吞吐量 ≤ 带宽`。
*   **场景**：
    *   你家带宽 1000M (路很宽)。
    *   但对方服务器很烂，只能提供 100M 的速度 (发车慢)。
    *   或者路上堵车 (网络拥塞)。
    *   **结果**：你的实际吞吐量只有 100M。**（木桶效应：取决于最慢的那一段）**

---

## 4. 时延 (Delay/Latency) —— “路上的时间” 【重难点】

**定义**：数据从网络的一端传到另一端所需的时间。
这是导致**“卡顿”**（Lag）的罪魁祸首。它由 4 部分组成：

| 时延类型 | 比喻 (高速收费站) | 关键因素 | 备注 |
| :--- | :--- | :--- | :--- |
| **1. 发送时延**<br>(Transmission) | **过闸机的时间**<br>(把车推上高速的时间) | **带宽**、数据包大小 | 带宽越大，推得越快。 |
| **2. 传播时延**<br>(Propagation) | **跑路的时间**<br>(车在高速上开的时间) | **距离**、介质光速 | 距离越远，跑得越久。<br>(光纤里跑 1000km 约需 5ms) |
| **3. 处理时延**<br>(Processing) | **安检时间**<br>(交警查驾照) | 路由器性能 | 通常极短 (微秒级)。 |
| **4. 排队时延**<br>(Queuing) | **堵车排队时间**<br>(前面有车在等) | **网络拥塞程度** | 最不可控，波动最大。<br>网卡就是因为它。 |

> **💡 经典面试题：提高带宽能降低时延吗？**
> *   **答**：只能降低 **发送时延** (推车更快了)，但改变不了 **传播时延** (路程没变，光速没变)。
> *   *比喻：把马路修宽了，车队能更快通过收费站，但你要从北京开到上海，该跑几个小时还得跑几个小时。*

---

## 5. 时延带宽积 (Volume) —— “管道里的积水”

**公式**：`传播时延 × 带宽`
*   **物理意义**：当第一个比特到达终点时，管道里已经塞了多少比特的数据。
*   **比喻**：这根水管这就充满了水，这部分水正在路上，还没流出来。

---

## 6. 往返时间 (RTT) —— “Ping 值”

**定义**：从发送数据开始，到收到对方确认 (ACK) 总共经历的时间。
*   **组成**：`往返传播时延 + 末端处理时间`。
*   **应用**：打游戏时右上角的 `ms` 数。
    *   `RTT < 30ms`：丝滑流畅。
    *   `RTT > 100ms`：明显卡顿。
    *   `RTT > 460ms`：你已经死了。

---

## 7. 利用率 (Utilization) —— “拥堵指数”

**公式**：`实际流量 / 带宽`。
*   **规律**：**信道利用率越高，时延越大**。
*   **比喻**：高速公路上车越多 (利用率高)，就越容易堵车 (排队时延无限增大)。
*   **结论**：平时我们希望利用率高 (不浪费)，但不能太高 (否则会卡)。一般来说，利用率超过 50% 就该扩容了。

---

## 📝 极简总结表

| 指标 | 核心问题 | 决定因素 |
| :--- | :--- | :--- |
| **速率** | 传得快不快？ | 硬件能力 |
| **带宽** | 路修得宽不宽？ | 运营商套餐 |
| **吞吐量** | 实际跑了多少车？ | 网络负载、短板效应 |
| **时延** | 路上花了多久？ | 距离、带宽、堵车 |
| **RTT** | 打个来回要多久？ | 物理距离 (主要) |
