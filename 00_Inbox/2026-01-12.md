flowchart TD
    A([开始]) --> B[固定 n、C、w[]]
    B --> C[初始化 dp[n+1][C+1]=0]
    C --> D[for i=1..n]
    D --> E[for j=0..C]
    E --> F{w[i-1] > j ?}
    F -- 是 --> G[dp[i][j]=dp[i-1][j]]
    F -- 否 --> H[dp[i][j]=max(dp[i-1][j],\ndp[i-1][j-w[i-1]]+w[i-1])]
    G --> E
    H --> E
    E --> D

    D --> I[填表完成：最优值=dp[n][C]]
    I --> J[回溯选物品：\nj=C，i=n..1]
    J --> K{dp[i][j] != dp[i-1][j]?}
    K -- 是 --> L[pick[i-1]=true\nj-=w[i-1]]
    K -- 否 --> M[不选第 i 件]
    L --> J
    M --> J
    J --> N[输出 dp[n][C] 与 pick[]]
    N --> Z([结束])
